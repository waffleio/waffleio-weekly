html
    head
        title=title
        style
            include style.css
    body    
        h1=message
        p for #{project}
        p for past 7 days
            h2 Epics (in progress) ğŸ—‚
            ul
                each epic in epics
                    - let commentsString = (epic.newComments.length > 0) ? '(' + epic.newComments.length + ' new comments)' : ''
                    li #[a(href=epic.githubMetadata.html_url) ##{epic.githubMetadata.number}]  #{epic.githubMetadata.title} #{epic.githubMetadata.state.toUpperCase()} #{commentsString}
                        ul 
                            each child in epic.relationships
                                li #[a(href=child.to.githubMetadata.html_url) ##{child.to.githubMetadata.number}]  #{child.to.githubMetadata.title} #{child.to.githubMetadata.state.toUpperCase()}
            h2 Issues with Updates (in progress, without Epic) ğŸƒ 
            ul
                each issue in updatedOrphanIssues
                    - let commentsString = (issue.newComments.length > 0) ? '(' + issue.newComments.length + ' new comments)' : ''
                    - let prString = (issue.PRs.length > 0) ? '(' + issue.PRs.length + ' PRs)' : ''
                    li #[a(href=issue.githubMetadata.html_url) ##{issue.githubMetadata.number}]  #{issue.githubMetadata.title} #{issue.githubMetadata.state.toUpperCase()} #{commentsString} #{prString}
            h2 Closed Issues (but not Archived) ğŸ’ª 
            ul
                each issue in closedIssues
                    - let commentsString = (issue.newComments.length > 0) ? '(' + issue.newComments.length + ' new comments)' : ''
                    li #[a(href=issue.githubMetadata.html_url) ##{issue.githubMetadata.number}]  #{issue.githubMetadata.title} #{issue.githubMetadata.state.toUpperCase()} #{commentsString}
            h2 New Issues â­ 
            ul
                each issue in newIssues
                    - let commentsString = (issue.newComments.length > 0) ? '(' + issue.newComments.length + ' new comments)' : ''
                    li #[a(href=issue.githubMetadata.html_url) ##{issue.githubMetadata.number}]  #{issue.githubMetadata.title} #{issue.githubMetadata.state.toUpperCase()} created by #{issue.creator} #{commentsString}
